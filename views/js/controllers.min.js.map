{"version":3,"sources":["routes.js","../plugins/results/action/view.js","../plugins/results/action/delete.js","../plugins/results/action/download.js","../component/results/pluginsLoader.js","../component/results/areaBroker.js","../component/results/list!tpl","../component/results/list.js","inspectResults.js","resultTable.js","json!taoItems/preview/resources/device-list.json","../../taoItems/preview/tpl/preview!tpl","../../taoItemsCss/preview!css","../../taoItems/preview/preview.js","viewResult.js","../../../../../../../../../../../../onLayerEnd0.js"],"names":["define","Results","actions","viewResult","index","ResultTable","__","binder","pluginFactory","urlHelper","name","init","resultsList","this","getHost","action","binding","url","route","addAction","id","label","icon","context","classUri","getClassUri","exec","$","uri","encode","dialogConfirm","feedback","ajax","type","data","dataType","done","response","deleted","success","refresh","error","html","encodeHtml","trigger","fail","err","fileDownload","preparingMessageHtml","failMessageHtml","httpMethod","deliveryExecution","pluginLoader","actionView","actionDelete","actionDownload","_","areaBroker","requireAreas","partial","hb","template","Handlebars","depth0","helpers","partials","compilerInfo","merge","Promise","component","resultsAreaBroker","listTpl","resultsListFactory","config","pluginFactories","pluginRun","method","execStack","forEach","plugins","plugin","isFunction","push","all","isPlainObject","TypeError","isString","dataUrl","model","isArray","decode","getListArea","datatable","descriptor","getConfig","getActions","before","self","$component","list","getName","then","empty","on","setState","catch","reject","setTemplate","module","loggerFactory","loadingBar","resultsPluginsLoader","reportError","stop","logger","Error","message","start","$container","listConfig","dataModel","exclude","remove","add","load","getPlugins","after","render","register","item","resulTableController","conf","$filterField","$tableContainer","filter","columns","groups","buildGrid","col","find","resCol","isEqual","undefined","first","concat","_buildTable","prop","contextId","variableIdentifier","sortable","off","removeClass","e","preventDefault","_url","filterData","querytype","params","_search","each","$elt","group","$btn","toggleClass","select2","minimumResultsForSearch","click","tablets","193986c3715c81838870f908fa98d69a","width","height","4e8eafab11aad1486992d7ee2c8c16ca","5aac2932d9ad00d6d8a1604b8f9e4e8d","9805d9753ad08c7630a9ee5418aa6c6c","d4a431cedf4705d6bf2cba6d5788378b","phones","1b89338531ef0155c8d6abc2ac02c81a","scaleFactor","dpWidth","dpHeight","3f89da99d84214cde7df87ebe0699a6f","0d36971a5b98b367f54ced708c9af849","026beffcc051af995660ebdede986ace","fd2dd53e667d6d49e4fa73356fa941dd","707584c1ae17d9b5b2cbe8603c91c147","91823264de952e7f2347e07db5c4058b","cd69817a6e147e8a4677389e56fcf568","75994faa6a38e31e99b53fcd75534a33","0cab4dfccdfc880687cb608cfe4159db","c4ff41fcba24d74fc21dc3490ca1edc9","fa969a5e0dd2de53700eeee4ba4ba142","33c4f9364e295ec03531f3a3425819cf","bc47f5275f0efd56fee52d43a8082981","0732887e6e324fd10777b735520a34cf","2e38a78364f09d0da0e9e1a3a68e7fb0","bd4b78dddc7c9625a4141a1b1ddabb87","3bf1edf21cfa81006183d2b02974c84e","ab5a352e0e016b97dac986f06c394f55","4826fb7d7257aeaac992ce699df41b3c","0a691ab20add7c432200f8fa6527b488","9c23ee31be29960fbac9e9bbfc2fc7b0","92177c0508c1d73905a58e2338f2a81f","5222b8866dc4cc606725e16ffcc0a783","37c1541e2bd55cfd0f4073b0ccdf68b3","2f7f64b7dda0144907ff300e83eed465","9c24f9057744dad56043702a9703127f","0a8b2732a016a9395c3af5f12dd9c0da","5a153d7f53d82dcb0801f041574a6a43","screens","9e523ae15b61dc766f5c818726881ecf","07769cd8d0a7d09818b2f0b018042fb7","72d5478a24194f98b9378e8e0fd65737","b7a6dd5900cc72e61f0d3479c7e314ec","43193b0ff671a37d8232ab664190a125","c29e48814af5443ff5688d9e967ce917","program1","stack1","helper","buffer","value","call","hash","functionType","escapeExpression","selected","inverse","noop","fn","program","program2","program4","themes","program6","dataValue","options","helperMissing","previewType","previewTypes","hasThemes","desktopDevices","mobileDevices","strPad","deviceList","previewTpl","themeHandler","themeLoader","UrlParser","_setupScreenSize","screenSize","innerWidth","innerHeight","overlay","container","typeDependant","$feedbackBox","$console","previewContainerMaxWidth","itemUri","state","orientation","desktop","mobile","standard","themeObj","get","$doc","document","$window","window","$body","body","sizeSettings","winScrollObj","x","y","_getDeviceSelectorData","devices","join","_setupTypeDependantElements","_setPreviewType","newType","re","RegExp","i","el","className","replace","_setOrientation","newOrientation","previewFrame","_scale","_computeScaleFactor","$scaleContainer","_scaleFactor","containerScaledWidth","left","css","-webkit-transform","-ms-transform","transform","-webkit-transform-origin","-ms-transform-origin","transform-origin","_positionPreview","topBarHeight","outerHeight","style","top","maxHeight","scaleValues","requiredSize","Math","min","_setupDeviceSelectors","previewDeviceSelectors","elem","option","nodeName","toLowerCase","selectedIndex","val","split","length","parseFloat","_adaptFrameSize","_setupOrientationSelectors","_setupClosers","$closer","$feedbackCloser","$hideForever","$iframe","scrollTo","hide","attr","keyup","keyCode","addClass","cookie","expires","path","_getThemes","activeTheme","isEmpty","base","getActiveTheme","available","_getPreviewTypes","_previewLabel","_previewType","_setupViewSelector","_setupThemeSelector","iframe","getElementById","iframeDoc","contentWindow","contentDocument","$previewContainer","_iframe","contentHeight","contents","containerHeight","_updateStandardPreviewSize","$selector","values","toString","valueStr","_initConsole","$listing","event","timer","Date","logTime","getHours","getMinutes","getSeconds","msgStr","append","is","scrollTop","slideDown","show","slideUp","resolve","parsed","JSON","stringify","scrollX","scrollY","display","not","xhr","status","statusText","_itemUri","_state","size","parseInt","section","preview","viewResultController","$resultFilterField","$classFilterField","classFilter","parse","filterTypes","filterSubmission","loadContentBlock","variableUri","deliveryUri","$this","c","d","a","s","createElement","getElementsByTagName","cssText","createTextNode"],"mappings":"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","file":"routes.js","sourcesContent":["/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n * \n * \n */\n\n//@see http://forge.taotesting.com/projects/tao/wiki/Front_js\ndefine('taoOutcomeUi/controller/routes',[],function(){\n    'use strict';\n\n    return {\n        'Results': {\n            'actions': {\n                'viewResult' : 'controller/viewResult',\n                'index' : 'controller/inspectResults'\n            }\n        },\n        'ResultTable': {\n            'actions': {\n                'index' : 'controller/resultTable'\n            }       \n        }\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien@taotesting.com>\n */\ndefine('taoOutcomeUi/plugins/results/action/view',[\n    'i18n',\n    'layout/actions/binder',\n    'core/plugin',\n    'util/url'\n], function (__, binder, pluginFactory, urlHelper) {\n    'use strict';\n\n    /**\n     * Will add a \"View\" button on each line of the list of results\n     */\n    return pluginFactory({\n        name: 'view',\n\n        init: function init() {\n            var resultsList = this.getHost();\n            var action = {\n                binding: 'load',\n                url: urlHelper.route('viewResult', 'Results', 'taoOutcomeUi')\n            };\n\n            // this action will be available for each displayed line in the list\n            resultsList.addAction({\n                id: 'view',\n                label: __('View'),\n                icon: 'view',\n                action: function viewResults(id) {\n                    var context = {\n                        id: id,\n                        classUri: resultsList.getClassUri()\n                    };\n\n                    binder.exec(action, context);\n                }\n            });\n        }\n    });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien@taotesting.com>\n */\ndefine('taoOutcomeUi/plugins/results/action/delete',[\n    'jquery',\n    'i18n',\n    'uri',\n    'core/plugin',\n    'util/url',\n    'util/encode',\n    'ui/dialog/confirm',\n    'ui/feedback'\n], function ($, __, uri, pluginFactory, urlHelper, encode, dialogConfirm, feedback) {\n    'use strict';\n\n    /**\n     * Will add a \"Delete\" button on each line of the list of results\n     */\n    return pluginFactory({\n        name: 'delete',\n\n        init: function init() {\n            var resultsList = this.getHost();\n\n            // this action will be available for each displayed line in the list\n            resultsList.addAction({\n                id: 'delete',\n                label: __('Delete'),\n                icon: 'delete',\n                action: function deleteResults(id) {\n                    // prompt a confirmation dialog and then delete the result\n                    dialogConfirm(__('Please confirm deletion'), function () {\n                        $.ajax({\n                            url: urlHelper.route('delete', 'Results', 'taoOutcomeUi'),\n                            type: \"POST\",\n                            data: {\n                                uri: uri.encode(id)\n                            },\n                            dataType: 'json'\n                        }).done(function (response) {\n                            if (response.deleted) {\n                                feedback().success(__('Result has been deleted'));\n                                resultsList.refresh();\n                            } else {\n                                feedback().error(__('Something went wrong...') + '<br>' + encode.html(response.error), {encodeHtml: false});\n                                resultsList.trigger('error', response.error);\n                            }\n                        }).fail(function (err) {\n                            feedback().error(__('Something went wrong...'));\n                            resultsList.trigger('error', err);\n                        });\n                    });\n                }\n            });\n        }\n    });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien@taotesting.com>\n */\ndefine('taoOutcomeUi/plugins/results/action/download',[\n    'jquery',\n    'i18n',\n    'core/plugin',\n    'util/url',\n    'jquery.fileDownload'\n], function ($, __, pluginFactory, urlHelper) {\n    'use strict';\n\n    /**\n     * Will add a \"Download\" button on each line of the list of results\n     */\n    return pluginFactory({\n        name: 'download',\n\n        init: function init() {\n            var resultsList = this.getHost();\n\n            // this action will be available for each displayed line in the list\n            resultsList.addAction({\n                id: 'download',\n                label: __('Download'),\n                icon: 'download',\n                action: function downloadResults(id) {\n                    $.fileDownload(urlHelper.route('downloadXML', 'Results', 'taoOutcomeUi'), {\n                        preparingMessageHtml: __(\"We are preparing your report, please wait...\"),\n                        failMessageHtml: __(\"There was a problem generating your report, please try again.\"),\n                        httpMethod: 'GET',\n                        data: { 'deliveryExecution': id }\n                    });\n                }\n            });\n        }\n    });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien@taotesting.com>\n */\ndefine('taoOutcomeUi/component/results/pluginsLoader',[\n    'core/pluginLoader',\n    'taoOutcomeUi/plugins/results/action/view',\n    'taoOutcomeUi/plugins/results/action/delete',\n    'taoOutcomeUi/plugins/results/action/download'\n], function (pluginLoader, actionView, actionDelete, actionDownload) {\n    'use strict';\n\n    /**\n     * Instantiates the plugin loader with all the required plugins configured\n     */\n    return pluginLoader({\n        action: [actionView, actionDelete, actionDownload]\n    });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien@taotesting.com>\n */\ndefine('taoOutcomeUi/component/results/areaBroker',[\n    'lodash',\n    'core/areaBroker'\n], function (_, areaBroker) {\n    'use strict';\n\n    var requireAreas = [\n        'list'\n    ];\n\n    /**\n     * Creates an area broker with the required areas for the list of results\n     *\n     * @see core/areaBroker\n     *\n     * @param {jQueryElement|HTMLElement|String} $container - the main container\n     * @param {Object} mapping - keys are the area names, values are jQueryElement\n     * @returns {broker} the broker\n     * @throws {TypeError} without a valid container\n     */\n    return _.partial(areaBroker, requireAreas);\n});\n\n","\ndefine('tpl!taoOutcomeUi/component/results/list', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"component results-list\\\">\\n    <div class=\\\"list\\\"></div>\\n</div>\";\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sébastien Conan <jean-sebastien@taotesting.com>\n */\ndefine('taoOutcomeUi/component/results/list',[\n    'jquery',\n    'lodash',\n    'uri',\n    'core/promise',\n    'ui/component',\n    'taoOutcomeUi/component/results/areaBroker',\n    'tpl!taoOutcomeUi/component/results/list',\n    'ui/datatable'\n], function ($, _, uri, Promise, component, resultsAreaBroker, listTpl) {\n    'use strict';\n\n    /**\n     * Component that lists all the results entry points for a particular delivery\n     *\n     * @param {Object} config\n     * @param {String} config.classUri\n     * @param {String} config.dataUrl\n     * @param {Object} config.model\n     * @param {Array} pluginFactories\n     * @returns {resultsList}\n     */\n    function resultsListFactory(config, pluginFactories) {\n        var resultsList;\n        var areaBroker;\n        var plugins = {};\n        var actions = [];\n        var classUri;\n\n        /**\n         * Calls a method from each plugins\n         *\n         * @param {String} method - the name of the method to run\n         * @returns {Promise} Resolved when all plugins are done\n         */\n        function pluginRun(method) {\n            var execStack = [];\n\n            _.forEach(plugins, function (plugin) {\n                if (_.isFunction(plugin[method])) {\n                    execStack.push(plugin[method]());\n                }\n            });\n\n            return Promise.all(execStack);\n        }\n\n        if (!_.isPlainObject(config)) {\n            throw new TypeError('The configuration is required');\n        }\n        if (!_.isString(config.classUri) || !config.classUri) {\n            throw new TypeError('The class URI is required');\n        }\n        if (!_.isString(config.dataUrl) || !config.dataUrl) {\n            throw new TypeError('The service URL is required');\n        }\n        if (!_.isPlainObject(config.model) && !_.isArray(config.model)) {\n            throw new TypeError('The data model is required');\n        }\n\n        classUri = uri.decode(config.classUri);\n\n        /**\n         *\n         * @typedef {resultsList}\n         */\n        resultsList = component({\n\n            /**\n             * Refreshes the list\n             * @returns {resultsList} chains\n             */\n            refresh: function refresh() {\n                areaBroker.getListArea().datatable('refresh');\n                return this;\n            },\n\n            /**\n             * Add a line action\n             * @param {String|Object} name\n             * @param {Function|Object} [action]\n             * @returns {resultsList} chains\n             */\n            addAction: function addAction(name, action) {\n                var descriptor;\n\n                if (_.isPlainObject(name)) {\n                    descriptor = name;\n                } else if (_.isPlainObject(action)) {\n                    descriptor = action;\n                    action.id = name;\n                } else {\n                    descriptor = {\n                        id: name,\n                        label: name\n                    };\n                }\n\n                if (_.isFunction(action)) {\n                    descriptor.action = action;\n                }\n                if (!descriptor.label) {\n                    descriptor.label = descriptor.id;\n                }\n\n                actions.push(descriptor);\n\n                return this;\n            },\n\n            /**\n             * Gives an access to the config\n             * @returns {Object}\n             */\n            getConfig: function getConfig() {\n                return this.config;\n            },\n\n            /**\n             * Gets the class URI\n             * @returns {String}\n             */\n            getClassUri: function getClassUri() {\n                return classUri;\n            },\n\n            /**\n             * Gets the registered actions\n             * @returns {Array}\n             */\n            getActions: function getActions() {\n                return actions;\n            }\n        });\n\n        return resultsList\n            .before('render', function onRender() {\n                var self = this;\n\n                areaBroker = resultsAreaBroker(this.$component, {\n                    'list': $('.list', this.$component)\n                });\n\n                _.forEach(pluginFactories, function (pluginFactory) {\n                    var plugin = pluginFactory(self, areaBroker);\n                    plugins[plugin.getName()] = plugin;\n                });\n\n                return pluginRun('init')\n                    .then(function() {\n                        return pluginRun('render');\n                    })\n                    .then(function () {\n                        areaBroker.getListArea()\n                            .empty()\n                            .on('query.datatable', function () {\n                                self.setState('loading', true)\n                                    .trigger('loading');\n                            })\n                            .on('load.datatable', function () {\n                                self.setState('loading', false)\n                                    .trigger('loaded');\n                            })\n                            .datatable({\n                                url: self.config.dataUrl,\n                                model: self.config.model,\n                                actions: actions\n                            });\n                    })\n                    .catch(function (err) {\n                        self.trigger('error', err);\n                        return Promise.reject(err);\n                    });\n            })\n            .before('destroy', function onDestroy() {\n                var self = this;\n\n                return pluginRun('destroy')\n                    .then(function () {\n                        areaBroker.getListArea().empty();\n                    })\n                    .catch(function (err) {\n                        self.trigger('error', err);\n                    });\n            })\n            .setTemplate(listTpl)\n            .init(config);\n    }\n\n    return resultsListFactory;\n});\n\n","/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n * @author Jean-Sébastien Conan <jean-sebastien@taotesting.com>\n */\ndefine('taoOutcomeUi/controller/inspectResults',[\n    'jquery',\n    'lodash',\n    'module',\n    'core/logger',\n    'util/url',\n    'layout/actions/binder',\n    'layout/loading-bar',\n    'ui/feedback',\n    'taoOutcomeUi/component/results/pluginsLoader',\n    'taoOutcomeUi/component/results/list'\n], function ($, _, module, loggerFactory, urlHelper, binder, loadingBar, feedback, resultsPluginsLoader, resultsListFactory) {\n    'use strict';\n\n    var logger = loggerFactory('controller/inspectResults');\n\n    /**\n     * Take care of errors\n     * @param err\n     */\n    function reportError(err) {\n        loadingBar.stop();\n\n        logger.error(err);\n\n        if (err instanceof Error) {\n            feedback().error(err.message);\n        }\n    }\n\n    /**\n     * @exports taoOutcomeUi/controller/resultTable\n     */\n    return {\n\n        /**\n         * Controller entry point\n         */\n        start: function () {\n            var config = module.config() || {};\n            var $container = $('#inspect-result');\n            var classUri = $container.data('uri');\n            var listConfig = {\n                dataUrl: urlHelper.route('getResults', 'Results', 'taoOutcomeUi', {\n                    classUri: classUri\n                }),\n                model: config.dataModel,\n                classUri: classUri\n            };\n\n            loadingBar.start();\n\n            _.forEach(config.plugins, function (plugin) {\n                if (plugin && plugin.module) {\n                    if (plugin.exclude) {\n                        resultsPluginsLoader.remove(plugin.module);\n                    } else {\n                        resultsPluginsLoader.add(plugin);\n                    }\n                }\n            });\n\n            resultsPluginsLoader.load()\n                .then(function () {\n                    resultsListFactory(listConfig, resultsPluginsLoader.getPlugins())\n                        .on('error', reportError)\n                        .on('success', function (message) {\n                            feedback().success(message);\n                        })\n                        .before('loading', function() {\n                            loadingBar.start();\n                        })\n                        .after('loaded', function () {\n                            loadingBar.stop();\n                        })\n                        .render($('.inspect-results-grid', $container));\n                })\n                .catch(reportError);\n\n            binder.register('download_csv', function (item) {\n                $.fileDownload(this.url, {\n                    httpMethod: 'GET',\n                    data: {uri: item.uri}\n                });\n            });\n        }\n    };\n});\n\n","/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoOutcomeUi/controller/resultTable',[\n    'jquery', \n    'lodash',\n    'i18n', \n    'helpers',\n    'module',\n    'ui/datatable', \n    'jquery.fileDownload'\n], function($, _, __, helpers, module) {\n    'use strict';\n\n    /**\n     * @exports taoOutcomeUi/controller/resultTable\n     */\n    var resulTableController =  {\n\n        /**\n         * Controller entry point\n         */\n        start : function(){\n\t   \n           var conf = module.config();\n           var $container = $(\".result-table\");\n           var $filterField = $('.result-filter', $container);\n           var $tableContainer = $('.result-table-container', $container);\n           var filter = conf.filter || 'lastSubmitted';\n           var uri = conf.uri || '';\n            //keep columns through calls\n            var columns = [];\n            var groups = {};\n\n            /**\n             * Load columns to rebuild the datatable dynamically\n             * @param {String} url  - the URL that retrieve the columns\n             * @param {String} [action = 'add'] - 'add' or 'remove' the retrieved columns\n             * @param {Function} done - once the datatable is loaded\n             */\n            var buildGrid = function buildGrid(url, action, done){\n                $.ajax({\n                    url : url,\n                    dataType : 'json',\n                    data : {filter : filter, uri : uri},\n                    type :'GET'\n                }).done(function(response){\n                    if(response && response.columns){\n                        if(action === 'remove'){\n                            columns = _.reject(columns, function(col){\n                               return _.find(response.columns, function(resCol){\n                                    return _.isEqual(col, resCol);\n                               });\n                            });\n                        } else {\n                            if(response.first !== undefined && response.first === true){\n                                columns = response.columns.concat(columns);\n                            }\n                            else{\n                                columns = columns.concat(response.columns);\n                            }\n                        }\n                        _buildTable(done);\n                    }\n                });\n            };\n            \n            /**\n             * Rebuild the datatable \n             * @param {Function} done - once the datatable is loaded\n             */\n            var _buildTable = function _buildTable(done){\n                var model = [];\n\n                //set up model from columns \n                _.forEach(columns, function(col){\n                    model.push({\n                        id : col.prop || (col.contextId + '_' + col.variableIdentifier),\n                        label : col.label,\n                        sortable: false\n                    });\n                });\n                \n                //re buid the datatable\n                $tableContainer\n                    .empty()\n                    .data('ui.datatable', null)\n                    .off('load.datatable')\n                    .on('load.datatable', function(){\n\n                        //enable to export the loaded table\n                        $('.result-export', $container)\n                            .off('click')\n                            .removeClass('disabled')\n                            .on('click', function(e){\n                                e.preventDefault();\n                                $.fileDownload(helpers._url('getCsvFile', 'ResultTable', 'taoOutcomeUi'), {\n                                    preparingMessageHtml: __(\"We are preparing your report, please wait...\"),\n                                    failMessageHtml: __(\"There was a problem generating your report, please try again.\"),\n                                    httpMethod: 'POST',\n                                    data: {'filter': filter, 'columns': columns, uri : uri}\n                                });\n                            });\n\n                        if(_.isFunction(done)){\n                            done();\n                            done = '';\n                        }\n                    })\n                    .datatable({\n                        url : helpers._url('data', 'ResultTable', 'taoOutcomeUi', {filterData : filter}),\n                        querytype : 'POST',\n                        params : {columns : columns,  '_search' : false, uri: uri},\n                        model :  model\n                    });\n            };\n\n            //group button to toggle them\n            $('[data-group]', $container).each(function(){\n                var $elt = $(this);\n                var group = $elt.data('group');\n                var action = $elt.data('action');\n                groups[group] = groups[group] || {};\n                groups[group][action] = $elt;\n            });\n\n            //regarding button data, we rebuild the table\n            $container.on('click', '[data-group]', function(e){\n                e.preventDefault();\n                var $elt    = $(this);\n                var group   = $elt.data('group');\n                var action  = $elt.data('action');\n                var url     = $elt.data('url');\n                buildGrid(url, action, function(){\n                    _.forEach(groups[group], function($btn){\n                       $btn.toggleClass('hidden');\n                    });\n                });\n            });\n\n            //default table\n            buildGrid(helpers._url('getResultOfSubjectColumn', 'ResultTable', 'taoOutcomeUi', {filter : filter}));\n\n            //setup the filtering\n            $filterField.select2({\n                minimumResultsForSearch : -1\n            }).select2('val', filter);\n\n            $('.result-filter-btn', $container).click(function(e) {\n                filter = $filterField.select2('val');\n                //rebuild the current table\n                _buildTable();\n            });\n        }\n    };\n    return resulTableController;\n});\n\n","\ndefine(\"json!taoItems/preview/resources/device-list.json\", function(){ return {\n    \"tablets\": {\n        \"193986c3715c81838870f908fa98d69a\": {\n            \"label\": \"Amazon Kindle Fire HDX 7\\u2033\",\n            \"width\": 960,\n            \"height\": 600\n        },\n        \"4e8eafab11aad1486992d7ee2c8c16ca\": {\n            \"label\": \"Apple iPad\",\n            \"width\": 1024,\n            \"height\": 768\n        },\n        \"5aac2932d9ad00d6d8a1604b8f9e4e8d\": {\n            \"label\": \"Google Nexus 10, Motorola Xoom, Xyboard\",\n            \"width\": 1280,\n            \"height\": 800\n        },\n        \"9805d9753ad08c7630a9ee5418aa6c6c\": {\n            \"label\": \"Google Nexus 7\",\n            \"width\": 966,\n            \"height\": 604\n        },\n        \"d4a431cedf4705d6bf2cba6d5788378b\": {\n            \"label\": \"Samsung Galaxy Tab 7.7, 8.9, 10.1\",\n            \"width\": 1280,\n            \"height\": 800\n        }\n    },\n    \"phones\": {\n        \"1b89338531ef0155c8d6abc2ac02c81a\": {\n            \"label\": \"Apple iPhone 3GS\",\n            \"width\": 320,\n            \"height\": 480,\n            \"scaleFactor\": 1,\n            \"dpWidth\": 320,\n            \"dpHeight\": 480\n        },\n        \"3f89da99d84214cde7df87ebe0699a6f\": {\n            \"label\": \"Apple iPhone 4\",\n            \"width\": 640,\n            \"height\": 960,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 320,\n            \"dpHeight\": 1920\n        },\n        \"0d36971a5b98b367f54ced708c9af849\": {\n            \"label\": \"Apple iPhone 5\",\n            \"width\": 640,\n            \"height\": 1136,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 320,\n            \"dpHeight\": 2272\n        },\n        \"026beffcc051af995660ebdede986ace\": {\n            \"label\": \"BlackBerry Z10\",\n            \"width\": 768,\n            \"height\": 1280,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 384,\n            \"dpHeight\": 2560\n        },\n        \"fd2dd53e667d6d49e4fa73356fa941dd\": {\n            \"label\": \"BlackBerry Z30\",\n            \"width\": 720,\n            \"height\": 1280,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 360,\n            \"dpHeight\": 2560\n        },\n        \"707584c1ae17d9b5b2cbe8603c91c147\": {\n            \"label\": \"Google Nexus 4\",\n            \"width\": 768,\n            \"height\": 1280,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 384,\n            \"dpHeight\": 2560\n        },\n        \"91823264de952e7f2347e07db5c4058b\": {\n            \"label\": \"Google Nexus 5\",\n            \"width\": 1080,\n            \"height\": 1920,\n            \"scaleFactor\": 3,\n            \"dpWidth\": 360,\n            \"dpHeight\": 5760\n        },\n        \"cd69817a6e147e8a4677389e56fcf568\": {\n            \"label\": \"Google Nexus S\",\n            \"width\": 480,\n            \"height\": 800,\n            \"scaleFactor\": 1.5,\n            \"dpWidth\": 320,\n            \"dpHeight\": 1200\n        },\n        \"75994faa6a38e31e99b53fcd75534a33\": {\n            \"label\": \"HTC Evo, Touch HD, Desire HD, Desire\",\n            \"width\": 480,\n            \"height\": 800,\n            \"scaleFactor\": 1.5,\n            \"dpWidth\": 320,\n            \"dpHeight\": 1200\n        },\n        \"0cab4dfccdfc880687cb608cfe4159db\": {\n            \"label\": \"HTC One X, EVO LTE\",\n            \"width\": 720,\n            \"height\": 1280,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 360,\n            \"dpHeight\": 2560\n        },\n        \"c4ff41fcba24d74fc21dc3490ca1edc9\": {\n            \"label\": \"HTC Sensation, Evo 3D\",\n            \"width\": 540,\n            \"height\": 960,\n            \"scaleFactor\": 1.5,\n            \"dpWidth\": 360,\n            \"dpHeight\": 1440\n        },\n        \"fa969a5e0dd2de53700eeee4ba4ba142\": {\n            \"label\": \"LG Optimus 2X, Optimus 3D, Optimus Black\",\n            \"width\": 480,\n            \"height\": 800,\n            \"scaleFactor\": 1.5,\n            \"dpWidth\": 320,\n            \"dpHeight\": 1200\n        },\n        \"33c4f9364e295ec03531f3a3425819cf\": {\n            \"label\": \"LG Optimus G\",\n            \"width\": 768,\n            \"height\": 1280,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 384,\n            \"dpHeight\": 2560\n        },\n        \"bc47f5275f0efd56fee52d43a8082981\": {\n            \"label\": \"LG Optimus LTE, Optimus 4X HD\",\n            \"width\": 720,\n            \"height\": 1280,\n            \"scaleFactor\": 1.7,\n            \"dpWidth\": 424,\n            \"dpHeight\": 2176\n        },\n        \"0732887e6e324fd10777b735520a34cf\": {\n            \"label\": \"LG Optimus One\",\n            \"width\": 320,\n            \"height\": 480,\n            \"scaleFactor\": 1.5,\n            \"dpWidth\": 213,\n            \"dpHeight\": 720\n        },\n        \"2e38a78364f09d0da0e9e1a3a68e7fb0\": {\n            \"label\": \"Motorola Defy, Droid, Droid X, Milestone\",\n            \"width\": 480,\n            \"height\": 854,\n            \"scaleFactor\": 1.5,\n            \"dpWidth\": 320,\n            \"dpHeight\": 1281\n        },\n        \"bd4b78dddc7c9625a4141a1b1ddabb87\": {\n            \"label\": \"Motorola Droid 3, Droid 4, Droid Razr, Atrix 4G, Atrix 2\",\n            \"width\": 540,\n            \"height\": 960,\n            \"scaleFactor\": 1,\n            \"dpWidth\": 540,\n            \"dpHeight\": 960\n        },\n        \"3bf1edf21cfa81006183d2b02974c84e\": {\n            \"label\": \"Motorola Droid Razr HD\",\n            \"width\": 720,\n            \"height\": 1280,\n            \"scaleFactor\": 1,\n            \"dpWidth\": 720,\n            \"dpHeight\": 1280\n        },\n        \"ab5a352e0e016b97dac986f06c394f55\": {\n            \"label\": \"Nokia C5, C6, C7, N97, N8, X7\",\n            \"width\": 360,\n            \"height\": 640,\n            \"scaleFactor\": 1,\n            \"dpWidth\": 360,\n            \"dpHeight\": 640\n        },\n        \"4826fb7d7257aeaac992ce699df41b3c\": {\n            \"label\": \"Nokia Lumia 7X0, Lumia 8XX, Lumia 900, N800, N810, N900\",\n            \"width\": 480,\n            \"height\": 800,\n            \"scaleFactor\": 1.5,\n            \"dpWidth\": 320,\n            \"dpHeight\": 1200\n        },\n        \"0a691ab20add7c432200f8fa6527b488\": {\n            \"label\": \"Samsung Galaxy Note\",\n            \"width\": 800,\n            \"height\": 1280,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 400,\n            \"dpHeight\": 2560\n        },\n        \"9c23ee31be29960fbac9e9bbfc2fc7b0\": {\n            \"label\": \"Samsung Galaxy Note 3\",\n            \"width\": 1080,\n            \"height\": 1920,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 540,\n            \"dpHeight\": 3840\n        },\n        \"92177c0508c1d73905a58e2338f2a81f\": {\n            \"label\": \"Samsung Galaxy Note II\",\n            \"width\": 720,\n            \"height\": 1280,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 360,\n            \"dpHeight\": 2560\n        },\n        \"5222b8866dc4cc606725e16ffcc0a783\": {\n            \"label\": \"Samsung Galaxy S III, Galaxy Nexus\",\n            \"width\": 720,\n            \"height\": 1280,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 360,\n            \"dpHeight\": 2560\n        },\n        \"37c1541e2bd55cfd0f4073b0ccdf68b3\": {\n            \"label\": \"Samsung Galaxy S, S II, W\",\n            \"width\": 480,\n            \"height\": 800,\n            \"scaleFactor\": 1.5,\n            \"dpWidth\": 320,\n            \"dpHeight\": 1200\n        },\n        \"2f7f64b7dda0144907ff300e83eed465\": {\n            \"label\": \"Samsung Galaxy S4\",\n            \"width\": 1080,\n            \"height\": 1920,\n            \"scaleFactor\": 3,\n            \"dpWidth\": 360,\n            \"dpHeight\": 5760\n        },\n        \"9c24f9057744dad56043702a9703127f\": {\n            \"label\": \"Sony Xperia S, Ion\",\n            \"width\": 720,\n            \"height\": 1280,\n            \"scaleFactor\": 2,\n            \"dpWidth\": 360,\n            \"dpHeight\": 2560\n        },\n        \"0a8b2732a016a9395c3af5f12dd9c0da\": {\n            \"label\": \"Sony Xperia Sola, U\",\n            \"width\": 480,\n            \"height\": 854,\n            \"scaleFactor\": 1,\n            \"dpWidth\": 480,\n            \"dpHeight\": 854\n        },\n        \"5a153d7f53d82dcb0801f041574a6a43\": {\n            \"label\": \"Sony Xperia Z, Z1\",\n            \"width\": 1080,\n            \"height\": 1920,\n            \"scaleFactor\": 3,\n            \"dpWidth\": 360,\n            \"dpHeight\": 5760\n        }\n    },\n    \"screens\": {\n        \"9e523ae15b61dc766f5c818726881ecf\": {\n            \"label\": \"1920 \\u00d7 1080\",\n            \"width\": 1920,\n            \"height\": 1080,\n            \"dpWidth\": 1920,\n            \"dpHeight\": 1080,\n            \"scaleFactor\": 1\n        },\n        \"07769cd8d0a7d09818b2f0b018042fb7\": {\n            \"label\": \"1366 \\u00d7 768\",\n            \"width\": 1366,\n            \"height\": 768,\n            \"dpWidth\": 1366,\n            \"dpHeight\": 768,\n            \"scaleFactor\": 1\n        },\n        \"72d5478a24194f98b9378e8e0fd65737\": {\n            \"label\": \"1280 \\u00d7 1024\",\n            \"width\": 1280,\n            \"height\": 1024,\n            \"dpWidth\": 1280,\n            \"dpHeight\": 1024,\n            \"scaleFactor\": 1\n        },\n        \"b7a6dd5900cc72e61f0d3479c7e314ec\": {\n            \"label\": \"1280 \\u00d7 800\",\n            \"width\": 1280,\n            \"height\": 800,\n            \"dpWidth\": 1280,\n            \"dpHeight\": 800,\n            \"scaleFactor\": 1\n        },\n        \"43193b0ff671a37d8232ab664190a125\": {\n            \"label\": \"1024 \\u00d7 768\",\n            \"width\": 1024,\n            \"height\": 768,\n            \"dpWidth\": 1024,\n            \"dpHeight\": 768,\n            \"scaleFactor\": 1\n        },\n        \"c29e48814af5443ff5688d9e967ce917\": {\n            \"label\": \"800 \\u00d7 600\",\n            \"width\": 800,\n            \"height\": 600,\n            \"dpWidth\": 800,\n            \"dpHeight\": 600,\n            \"scaleFactor\": 1\n        }\n    }\n};});\n\n","\ndefine('tpl!taoItems/preview/tpl/preview', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        <option value=\\\"\";\n  if (helper = helpers.value) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.value); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.selected), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n                        \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \"selected=\\\"selected\\\"\";\n  }\n\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                    <select class=\\\"preview-theme-selector\\\">\\n                        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.themes), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    </select>\\n                    \";\n  return buffer;\n  }\n\nfunction program6(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        <option value=\\\"\";\n  if (helper = helpers.value) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.value); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" data-value=\\\"\";\n  if (helper = helpers.dataValue) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.dataValue); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.selected), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n                        \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"preview-overlay tao-scope overlay preview-\";\n  if (helper = helpers.previewType) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.previewType); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" item-no-print\\\"\\n     style=\\\"display:none\\\">\\n    <div class=\\\"preview-container-outer\\\">\\n        <form class=\\\"preview-utility-bar plain\\\">\\n            <div class=\\\"preview-utility-bar-inner grid-row\\\">\\n\\n                <div class=\\\"col-4\\\">\\n                    <input type=\\\"hidden\\\" value=\\\"\\\" data-value=\\\"\\\" class=\\\"standard-device-selector preview-device-selector\\\" data-target=\\\"standard\\\">\\n                    <select class=\\\"preview-type-selector\\\">\\n                        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.previewTypes), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    </select>\\n                    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.hasThemes), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </div>\\n                <div class=\\\"col-6 standard-only device-type-and-orientation\\\"></div>\\n                <div class=\\\"col-6 desktop-only device-type-and-orientation\\\">\\n                    <select class=\\\"desktop-device-selector preview-device-selector\\\" data-target=\\\"desktop\\\">\\n                        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.desktopDevices), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    </select>\\n                </div>\\n                <div class=\\\"col-6 mobile-only device-type-and-orientation\\\">\\n                    <select class=\\\"mobile-device-selector preview-device-selector\\\" data-target=\\\"mobile\\\">\\n                        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.mobileDevices), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    </select>\\n                    <select tabindex=\\\"-1\\\" class=\\\"mobile-orientation-selector orientation-selector\\\"\\n                            data-target=\\\"mobile\\\">\\n                        <option value=\\\"landscape\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Landscape\", options) : helperMissing.call(depth0, \"__\", \"Landscape\", options)))\n    + \"</option>\\n                        <option value=\\\"portrait\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Portrait\", options) : helperMissing.call(depth0, \"__\", \"Portrait\", options)))\n    + \"</option>\\n                    </select>\\n                </div>\\n                <div class=\\\"col-2\\\">\\n                    <span class=\\\"btn-info small preview-closer rgt\\\">\\n                        \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Close\", options) : helperMissing.call(depth0, \"__\", \"Close\", options)))\n    + \"\\n                        <span class=\\\"icon-close r\\\"></span>\\n                    </span>\\n                </div>\\n            </div>\\n            <div class=\\\"preview-message-box\\\">\\n                <div class=\\\"feedback-info small\\\">\\n                    <span class=\\\"icon-info\\\"></span>\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This preview may be scaled to fit your screen. The final rendering may differ.\", options) : helperMissing.call(depth0, \"__\", \"This preview may be scaled to fit your screen. The final rendering may differ.\", options)))\n    + \"\\n                    <a href=\\\"#\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Don’t show this again!\", options) : helperMissing.call(depth0, \"__\", \"Don’t show this again!\", options)))\n    + \"</a>\\n                    <span title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Remove this message\", options) : helperMissing.call(depth0, \"__\", \"Remove this message\", options)))\n    + \"\\\" class=\\\"icon-close close-trigger\\\"></span>\\n                </div>\\n            </div>\\n        </form>\\n        <div class=\\\"preview-canvas\\\">\\n            <div class=\\\"preview-scale-container\\\">\\n                <div class=\\\"\";\n  if (helper = helpers.previewType) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.previewType); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"-preview-frame preview-outer-frame \";\n  if (helper = helpers.previewType) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.previewType); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"-preview-landscape\\\">\\n                    <div class=\\\"\";\n  if (helper = helpers.previewType) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.previewType); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"-preview-container preview-container\\\">\\n                        <div class=\\\"preview-item-container\\\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n\\n    <div id=\\\"preview-console\\\">\\n        <span class=\\\"icon-close preview-console-closer\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Close console\", options) : helperMissing.call(depth0, \"__\", \"Close console\", options)))\n    + \"\\\"></span>\\n        <div class=\\\"preview-console-header grid-row clearfix\\\">\\n            <ul class=\\\"col-10 plain action-bar extra-button-action-bar horizontal-action-bar\\\">\\n            </ul>\\n            <ul class=\\\"col-2 plain action-bar console-button-action-bar horizontal-action-bar\\\">\\n                <li class=\\\"small btn-info action action-button rgt\\\" id=\\\"preview-submit-button\\\">\\n                    <a class=\\\"li-inner\\\" href=\\\"#\\\">\\n                        <span class=\\\"label\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Submit\", options) : helperMissing.call(depth0, \"__\", \"Submit\", options)))\n    + \"</span>\\n                    </a>\\n                </li>\\n            </ul>\\n        </div>\\n        <div class=\\\"preview-console-body clear\\\">\\n            <ul></ul>\\n        </div>\\n    </div>\\n</div>\\n\\n\\n\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('css!taoItemsCss/preview',[],function(){});\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Techniologies SA\n *\n */\ndefine('taoItems/preview/preview',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'util/strPad',\n    'core/promise',\n    'json!taoItems/preview/resources/device-list.json',\n    'tpl!taoItems/preview/tpl/preview',\n    'ui/themes',\n    'ui/themeLoader',\n    'urlParser',\n    'ui/modal',\n    'select2',\n    'jquery.cookie',\n    'css!taoItemsCss/preview'\n], function ($, _, __, strPad, Promise, deviceList, previewTpl, themeHandler, themeLoader, UrlParser) {\n    'use strict';\n\n\n    var overlay,\n        container,\n        orientation = 'landscape',\n        previewType = 'standard',\n        previewTypes = {\n            desktop: __('Desktop preview'),\n            mobile: __('Mobile preview'),\n            standard: __('Actual size')\n        },\n        themeObj = themeHandler.get('items') || {},\n        $doc = $(document),\n        $window = $(window),\n        $body = $(document.body),\n        screenSize = {\n            width: $window.innerWidth(),\n            height: $window.innerHeight()\n        },\n        sizeSettings = {\n            width: 0,\n            height: 0\n        },\n        scaleFactor = 1,\n        typeDependant,\n        $feedbackBox,\n        $console,\n        previewContainerMaxWidth,\n        itemUri,\n        state,\n        winScrollObj = { x:0, y:0 };\n\n\n    /**\n     * Create data set for device selectors\n     *\n     * @param type\n     * @returns {Array}\n     * @private\n     */\n    var _getDeviceSelectorData = function (type) {\n\n        /*\n         * @todo\n         * The device list is currently based on the devices found on the Chrome emulator.\n         * This is not ideal and should be changed in the future.\n         * I have http://en.wikipedia.org/wiki/List_of_displays_by_pixel_density in mind but we\n         * will need to figure what criteria to apply when generating the list.\n         */\n        var devices = type === 'mobile' ? deviceList.tablets : deviceList.screens,\n            options = [];\n\n        _.forEach(devices, function (value) {\n\n            options.push({\n                value: value.label,\n                label: value.label,\n                dataValue: [value.width, value.height].join(','),\n                selected: previewType === value.label\n            });\n        });\n\n\n        return options;\n    };\n\n    /**\n     * Collect all elements that can toggle their class name between mobile-* and desktop-*\n     *\n     * @private\n     */\n    var _setupTypeDependantElements = function () {\n        typeDependant = overlay.add(overlay.find('.preview-scale-container').find('[class*=\"' + previewType + '\"]'));\n    };\n\n\n    /**\n     * Change the class name of all type dependant elements\n     *\n     * @param {String} newType\n     */\n    var _setPreviewType = function (newType) {\n\n        if (newType === previewType) {\n            return;\n        }\n        var re = new RegExp(previewType, 'g');\n\n        typeDependant.each(function (i, el) {\n            el.className = el.className.replace(re, newType);\n        });\n\n        previewType = newType;\n    };\n\n\n    /**\n     * Set orientation\n     *\n     * @param {String} newOrientation\n     * @private\n     */\n    var _setOrientation = function (newOrientation) {\n        if (newOrientation === orientation) {\n            return;\n        }\n\n        var re = new RegExp(orientation, 'g'),\n            previewFrame = $('.preview-outer-frame')[0];\n\n        previewFrame.className = previewFrame.className.replace(re, newOrientation);\n\n        // reset global orientation\n        orientation = newOrientation;\n    };\n\n    /**\n     * Scale devices down to fit screen\n     * @private\n     */\n    var _scale = function () {\n\n        _computeScaleFactor();\n\n        var $scaleContainer = $('.preview-scale-container'),\n            _scaleFactor = previewType === 'standard' ? 1 : scaleFactor,\n            containerScaledWidth = $scaleContainer.width() * _scaleFactor,\n            left = (screenSize.width - containerScaledWidth) / 2;\n\n        $scaleContainer.css({\n            left: left > 0 ? left : 0,\n            '-webkit-transform': 'scale(' + _scaleFactor + ',' + _scaleFactor + ')',\n            '-ms-transform': 'scale(' + _scaleFactor + ',' + _scaleFactor + ')',\n            'transform': 'scale(' + _scaleFactor + ',' + _scaleFactor + ')',\n            '-webkit-transform-origin': '0 0',\n            '-ms-transform-origin': '0 0',\n            'transform-origin': '0 0'\n        });\n    };\n\n    /**\n     * position the preview depending on the height of the toolbar\n     *\n     * @private\n     */\n    var _positionPreview = function () {\n        var topBarHeight = $(\".preview-utility-bar\").outerHeight();\n\n        overlay[0].style.top = topBarHeight + 'px';\n        overlay[0].style.maxHeight = 'calc(100vh - ' + topBarHeight + 'px - ' + $console.outerHeight() + 'px )';\n    };\n\n\n    /**\n     * Compute scale factor based on screen size and device size\n     *\n     * @private\n     */\n    var _computeScaleFactor = function () {\n\n        var scaleValues = {\n            x: 1,\n            y: 1\n        };\n\n        // 150/200 = device frames plus toolbar plus console plus some margin\n\n        var requiredSize = {\n            width: sizeSettings.width + 150,\n            height: sizeSettings.height + 275\n        };\n\n        if (requiredSize.width > screenSize.width) {\n            scaleValues.x = screenSize.width / requiredSize.width;\n        }\n\n        if (requiredSize.height > screenSize.height) {\n            scaleValues.y = screenSize.height / requiredSize.height;\n        }\n\n        scaleFactor = Math.min(scaleValues.x, scaleValues.y);\n    };\n\n    /**\n     * Add functionality to device selectors\n     *\n     * @private\n     */\n    var _setupDeviceSelectors = function () {\n\n\n        var previewDeviceSelectors = overlay.find('.preview-device-selector');\n\n        previewDeviceSelectors.on('change', function () {\n            var elem = $(this),\n                option = this.nodeName.toLowerCase() === 'select' ? this.options[this.selectedIndex] : this,\n                type = elem.data('target'),\n                val = $(option).data('value').split(','),\n                i = val.length,\n                container = overlay.find('.' + type + '-preview-container');\n\n\n            while (i--) {\n                val[i] = parseFloat(val[i]);\n            }\n\n            if (type === 'mobile' && orientation === 'portrait') {\n                sizeSettings = {\n                    width: val[1],\n                    height: val[0]\n                };\n            }\n            else {\n                sizeSettings = {\n                    width: val[0],\n                    height: val[1]\n                };\n            }\n\n            if (sizeSettings.width === container.width() && sizeSettings.height === container.height()) {\n                return false;\n            }\n\n            _setPreviewType(type);\n            container.css(sizeSettings);\n            _scale();\n            _adaptFrameSize();\n        });\n\n        previewDeviceSelectors.each(function () {\n            if (this.nodeName.toLowerCase() === 'select') {\n                $(this).select2({\n                    minimumResultsForSearch: -1\n                });\n            }\n        });\n    };\n\n    /**\n     * Setup orientation selector. There is no actual orientation switch for desktop but it could\n     * be added easily if required.\n     * @private\n     */\n    var _setupOrientationSelectors = function () {\n\n        $('select.orientation-selector').on('change',function () {\n\n            var type = $(this).data('target'),\n                previewFrame = $('.' + type + '-preview-frame'),\n                container = previewFrame.find('.' + type + '-preview-container'),\n                newOrientation = $(this).val();\n\n            if (newOrientation === orientation) {\n                return false;\n            }\n\n            sizeSettings = {\n                height: container.width(),\n                width: container.height()\n            };\n\n            container.css(sizeSettings);\n\n            _setOrientation(newOrientation);\n\n            _scale();\n            _adaptFrameSize();\n\n\n        }).select2({\n            minimumResultsForSearch: -1\n        });\n    };\n\n    /**\n     * Close preview\n     *\n     * @returns {*|HTMLElement}\n     */\n    var _setupClosers = function () {\n        var $closer = overlay.find('.preview-closer'),\n            $feedbackCloser = $feedbackBox.find('.close-trigger'),\n            $hideForever = $feedbackBox.find('a');\n        var $iframe = $('#preview-iframe');\n\n        $closer.on('click', function () {\n            $doc.trigger('itemunload.preview');\n//            commonRenderer.setContext($('.item-editor-item'));\n\n            window.scrollTo(winScrollObj.x, winScrollObj.y);\n\n            overlay.hide();\n            $body.removeClass('preview-mode');\n\n            //empty the iframe\n            $iframe.off('load').attr('src', 'about:blank');\n        });\n\n        $doc.keyup(function (e) {\n            if (e.keyCode === 27) {\n                $closer.trigger('click');\n            }\n        });\n\n        $feedbackCloser.on('click', function () {\n            $feedbackBox.hide();\n            $body.addClass('no-preview-feedback');\n            _positionPreview();\n            _scale();\n        });\n\n        $hideForever.on('click', function (e) {\n            e.preventDefault();\n            $.cookie('hidePreviewFeedback', true, { expires: 1000, path: '/' });\n            $feedbackCloser.trigger('click');\n        });\n    };\n\n    /**\n     * Build options for themes\n     *\n     * @todo is there a way to know the selected theme?\n     *\n     * @returns {Array}\n     * @private\n     */\n    var _getThemes = function() {\n\n        var options = [];\n        var activeTheme;\n\n        //don't load themes if there is none\n        if(_.isPlainObject(themeObj) && !_.isEmpty(themeObj.base)){\n            activeTheme = themeLoader(themeObj).getActiveTheme();\n\n            _(themeObj.available).forEach(function (data) {\n                options.push({\n                    value: data.id,\n                    label: data.name,\n                    selected: data.id === activeTheme\n                });\n            });\n        }\n        return options;\n    };\n\n    /**\n     * Build options for preview types\n     *\n     * @returns {Array}\n     * @private\n     */\n    var _getPreviewTypes = function () {\n        var options = [];\n        _(previewTypes).forEach(function (_previewLabel, _previewType) {\n            options.push({\n                value: _previewType,\n                label: _previewLabel,\n                selected: previewType === _previewType\n            });\n        });\n        return options;\n    };\n\n    /**\n     * Select preview type\n     *\n     * @private\n     */\n    var _setupViewSelector = function () {\n\n        $('select.preview-type-selector').on('change',function () {\n            var _previewType = $(this),\n                value = _previewType.val();\n\n            _setPreviewType(value);\n\n            $('.' + value + '-device-selector').trigger('change');\n        }).select2({\n            minimumResultsForSearch: -1\n        });\n\n    };\n\n\n    /**\n     * Select preview theme\n     *\n     * @private\n     */\n    var _setupThemeSelector = function () {\n        $('select.preview-theme-selector').on('change',function () {\n            var iframe = document.getElementById('preview-container');\n            var iframeDoc = iframe.contentWindow || iframe.contentDocument;\n            iframeDoc.$('.qti-item').trigger('themechange', [$(this).val()]);\n\n        }).select2({\n            minimumResultsForSearch: -1\n        });\n\n    };\n\n    var _adaptFrameSize = function () {\n\n        var $previewContainer = $('.preview-container'),\n            $iframe = (function () {\n                var _iframe = $previewContainer.find('iframe');\n                _iframe.height('');\n                return _iframe;\n            }()),\n            contentHeight = $iframe.contents().outerHeight(),\n            containerHeight = $previewContainer.innerHeight();\n\n        if (previewType !== 'standard') {\n            if (contentHeight < containerHeight) {\n                contentHeight = containerHeight;\n            }\n        }\n        else {\n            $previewContainer.height(contentHeight + 10);\n        }\n\n        $iframe.height(contentHeight);\n    };\n\n\n    /**\n     * Set the size for the standard preview\n     * @param height\n     * @private\n     */\n    var _updateStandardPreviewSize = function (height) {\n        var $selector = $('.standard-device-selector'),\n            values = ($selector.val() ? $selector.val().split(',') : '') || [$window.width().toString()],\n            valueStr = values.join(',');\n\n        values[1] = height || values[1] || '1200';\n\n        $selector.val(valueStr).data('value', valueStr);\n    };\n\n\n    /**\n     * Console\n     *\n     * @private\n     */\n    var _initConsole = function () {\n        var $body = $console.find('.preview-console-body'),\n            $listing = $body.find('ul'),\n            $closer = $console.find('.preview-console-closer');\n\n        $console.off('updateConsole').on('updateConsole', function (event, type, message) {\n            var timer = new Date(),\n                logTime = [\n                    strPad(timer.getHours(), 2, '0', 'STR_PAD_LEFT'),\n                    strPad(timer.getMinutes(), 2, '0', 'STR_PAD_LEFT'),\n                    strPad(timer.getSeconds(), 2, '0', 'STR_PAD_LEFT')\n                ].join(':'),\n                msgStr = '<span class=\"log-time\">' + strPad(logTime, 12, ' ') + '</span> ' +\n                    '<span class=\"log-type\">' + strPad(type, 18, ' ') + '</span> ' +\n                    '<span class=\"log-message\">' + strPad(message, 18, ' ') + '</span>';\n            $listing.append('<li><pre>' + msgStr + '</pre></li>');\n            if (!$body.is(':visible')) {\n                $body.slideDown('slow', function () {\n                    $closer.show();\n                    $listing.scrollTop(10000);\n                });\n            }\n            else {\n                $listing.scrollTop(10000);\n            }\n        });\n\n        $closer.on('click', function () {\n            $body.slideUp('slow', function () {\n                $closer.hide();\n            });\n        });\n    };\n\n\n\n    /**\n     * Display the preview\n     * @returns {Promise} resolve once the preview is shown\n     */\n    var show = function () {\n        return new Promise(function (resolve, reject){\n            var parsed = new UrlParser(itemUri);\n            parsed.params.state = JSON.stringify(state);\n            $.ajax({\n                url: itemUri,\n                dataType: 'html',\n                method : 'POST',\n                data : parsed.params\n            }).done(function (data) {\n\n                winScrollObj = { x: window.scrollX, y: window.scrollY };\n                window.scrollTo(0,0);\n\n                $body.addClass('preview-mode');\n\n                // $.show() does not work from the item manager\n                // this is either a miracle or a jquery bug\n                // overlay.hide().show();\n                overlay[0].style.display = 'block';\n\n                overlay.find('select:visible').not('.preview-theme-selector').trigger('change');\n                _scale();\n                _positionPreview();\n                $('.preview-item-container').html(data);\n                resolve();\n\n            }).fail(function(xhr){\n                reject(new Error(__('Unable to render the item from %s : %s %s', itemUri, xhr.status, xhr.statusText)));\n            });\n        });\n    };\n\n    /**\n     * Setting up screen size according preview viewport size\n     * @private\n     */\n    function _setupScreenSize() {\n        screenSize = {\n            width: $('.preview-overlay').innerWidth(),\n            height: $('.preview-overlay').innerHeight()\n        };\n    }\n\n    /**\n     * Create preview\n     *\n     * @param {String} _itemUri\n     * @param {Object} _state\n     */\n    var init = function (_itemUri, _state) {\n\n        if(!_itemUri || _itemUri.length === 0){\n            throw new TypeError('Wrong URI');\n        }\n\n        $('.preview-overlay').remove();\n        container = null;\n        overlay = $(previewTpl({\n            mobileDevices: _getDeviceSelectorData('mobile'),\n            desktopDevices: _getDeviceSelectorData('desktop'),\n            previewTypes: _getPreviewTypes(),\n            previewType: previewType,\n            themes: _getThemes(),\n            hasThemes: _.size(themeObj.available) > 1\n        }));\n\n        $body.append(overlay);\n\n        previewContainerMaxWidth = parseInt($('.preview-container').css('max-width'), 10);\n\n        $feedbackBox = overlay.find('.preview-message-box');\n        if ($.cookie('hidePreviewFeedback')) {\n            $feedbackBox.hide();\n            $body.addClass('no-preview-feedback');\n        }\n\n        $console = overlay.find('#preview-console');\n\n        _initConsole();\n        _updateStandardPreviewSize();\n        _setupTypeDependantElements();\n        _setupDeviceSelectors();\n        _setupOrientationSelectors();\n        _setupViewSelector();\n        _setupThemeSelector();\n        _setupClosers();\n        _setupScreenSize();\n        _computeScaleFactor();\n        _setPreviewType(previewType);\n        _setOrientation(orientation);\n\n        $window.on('resize orientationchange', function () {\n            _setupScreenSize();\n            _updateStandardPreviewSize();\n            _computeScaleFactor();\n            _scale();\n        });\n\n        itemUri = _itemUri;\n        state = _state;\n\n        return overlay;\n    };\n\n    return {\n        init: init,\n        show: show\n    };\n});\n\n","/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoOutcomeUi/controller/viewResult',[\n    'module',\n    'jquery',\n    'i18n',\n    'util/url',\n    'layout/section',\n    'taoItems/preview/preview',\n    'jquery.fileDownload'\n], function (module, $,  __,  urlHelper, section, preview) {\n    'use strict';\n\n    /**\n     * @exports taoOutcomeUi/controller/viewResult\n     */\n    var viewResultController =  {\n\n        /**\n         * Controller entry point\n         */\n        start : function(){\n           var conf = module.config();\n           var $container = $('#view-result');\n           var $resultFilterField = $('.result-filter', $container);\n           var $classFilterField = $('[name=\"class-filter\"]', $container);\n           var classFilter = JSON.parse(conf.filterTypes) || [];\n            //set up filter field\n            $resultFilterField.select2({\n                minimumResultsForSearch : -1\n            }).select2('val', conf.filterSubmission || 'all');\n\n            for(var i in classFilter){\n                $('[value=\"'+classFilter[i]+'\"]').prop('checked', 'checked');\n            }\n\n            $('.result-filter-btn', $container).click(function(e) {\n                classFilter = [''];\n                $classFilterField.each(function(){\n                    if($(this).prop('checked')){\n                        classFilter.push($(this).val());\n                    }\n                });\n                section.loadContentBlock(\n                    urlHelper.route('viewResult', 'Results', 'taoOutcomeUi'), {\n                    id: conf.id,\n                    classUri:  conf.classUri,\n                    filterSubmission: $resultFilterField.select2('val'),\n                    filterTypes: classFilter\n                });\n            });\n\n\n            //bind the download buttons\n            $('.download', $container).on(\"click\", function (e) {\n                var variableUri = $(this).val();\n                $.fileDownload(urlHelper.route('getFile', 'Results', 'taoOutcomeUi'), {\n                    preparingMessageHtml: __(\"We are preparing your report, please wait...\"),\n                    failMessageHtml: __(\"There was a problem generating your report, please try again.\"),\n                    httpMethod: \"POST\",\n                    //This gives the current selection of filters (facet based query) and the list of columns selected from the client (the list of columns is not kept on the server side class.taoTable.php\n                    data: {'variableUri': variableUri, 'deliveryUri':conf.classUri}\n                });\n            });\n\n            $('.preview', $container).on(\"click\", function (e) {\n                var $this = $(this);\n                var uri = $this.data('uri');\n                var state = $this.data('state');\n                e.preventDefault();\n                window.scrollTo(0,0);\n                preview.init(urlHelper.route('forwardMe', 'ItemPreview', 'taoItems', {uri : uri}), state);\n                preview.show();\n            });\n\n        }\n    };\n\n    return viewResultController;\n});\n\n","\n(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})\n('body.preview-mode{height:100vh !important;max-height:100vh;overflow:hidden}body.no-preview-feedback .preview-overlay .preview-container{background:white;overflow:auto}body.no-preview-feedback .preview-overlay .preview-container .preview-item-container,body.no-preview-feedback .preview-overlay .preview-container #preview-container{min-height:calc(100vh - 82px) !important}.preview-overlay{display:none;width:100%;height:100%;z-index:19995;position:absolute;left:0;background:rgba(0,0,0,0.7)}.preview-overlay.preview-desktop{overflow:visible}.preview-overlay.preview-desktop .mobile-only,.preview-overlay.preview-desktop .standard-only{display:none !important}.preview-overlay.preview-mobile{overflow:visible}.preview-overlay.preview-mobile .desktop-only,.preview-overlay.preview-mobile .standard-only{display:none !important}.preview-overlay.preview-standard{overflow:visible}.preview-overlay.preview-standard .desktop-only,.preview-overlay.preview-standard .mobile-only{display:none !important}.preview-overlay .preview-scale-container{position:relative;float:left}.preview-overlay .preview-container{background:white;overflow:auto}.preview-overlay .preview-container .preview-item-container,.preview-overlay .preview-container #preview-container{min-height:calc(100vh - 130px) !important}.preview-overlay .preview-container-outer{display:table;padding:0;width:100%;height:100%}.preview-overlay .preview-utility-bar{background:#f3f1ef;border-bottom:1px solid #8d949e;margin-bottom:20px;z-index:9996;overflow:hidden;padding:10px;position:fixed;top:0;left:0;width:100%}.preview-overlay .preview-utility-bar .preview-heading{min-width:140px}.preview-overlay .preview-utility-bar .device-type-and-orientation{min-width:340px}.preview-overlay .preview-utility-bar-inner{max-width:1024px;width:100%;margin:auto}.preview-overlay .preview-utility-bar-inner h1{font-size:18px;font-size:1.8rem;text-shadow:1px 1px 0px #eee}.preview-overlay .preview-utility-bar-inner .icon-info{top:7px;font-size:15px;font-size:1.5rem}.preview-overlay .preview-utility-bar-inner li{margin-left:10px}.preview-overlay .preview-utility-bar-inner .btn-info{margin-top:1px}.preview-overlay .preview-utility-bar-inner .mobile-device-selector{width:200px}.preview-overlay .preview-utility-bar-inner .preview-type-selector{width:140px}.preview-overlay .preview-utility-bar-inner .preview-theme-selector{width:140px}.preview-overlay .preview-utility-bar-inner .orientation-selector,.preview-overlay .preview-utility-bar-inner .desktop-device-selector{width:130px}.preview-overlay .preview-utility-bar-inner [class*=\\\" col-\\\"],.preview-overlay .preview-utility-bar-inner [class^=\\\"col-\\\"]{margin-bottom:0 !important}.preview-overlay #preview-console{margin:0;padding:0;border:none;z-index:auto;background:#266d9c;position:fixed;bottom:0;left:0;width:100%}.preview-overlay #preview-console .preview-console-closer{position:absolute;right:10px;top:10px;cursor:pointer;color:rgba(255,255,255,0.9);display:none;text-shadow:none}.preview-overlay #preview-console .preview-console-closer:hover{color:white}.preview-overlay #preview-console .preview-console-header{max-width:1024px;width:100%;margin:auto;padding:0}.preview-overlay #preview-console .preview-console-header [class*=\\\" col-\\\"],.preview-overlay #preview-console .preview-console-header [class^=\\\"col-\\\"]{margin-bottom:0 !important}.preview-overlay #preview-console .extra-button-action-bar{overflow:visible}.preview-overlay #preview-console .extra-button-action-bar li{margin:0 5px}.preview-overlay #preview-console .extra-button-action-bar li.btn-info{border-color:rgba(255,255,255,0.3)}.preview-overlay #preview-console .extra-button-action-bar li.btn-info.btn-group{border:none !important;overflow:visible;padding:0}.preview-overlay #preview-console .extra-button-action-bar li.btn-info.btn-group a{float:left;margin:0 2px;padding:0 15px;border:1px solid rgba(255,255,255,0.3);border-radius:0px;display:inline-block;height:inherit}.preview-overlay #preview-console .extra-button-action-bar li.btn-info.btn-group a:first-of-type{border-top-left-radius:3px;border-bottom-left-radius:3px;margin-left:0}.preview-overlay #preview-console .extra-button-action-bar li.btn-info.btn-group a:last-of-type{border-top-right-radius:3px;border-bottom-right-radius:3px;margin-right:0}.preview-overlay #preview-console .extra-button-action-bar li.btn-info.btn-group a:hover,.preview-overlay #preview-console .extra-button-action-bar li.btn-info.btn-group a.active{border-color:rgba(255,255,255,0.8)}.preview-overlay #preview-console .extra-button-action-bar li.btn-info.btn-group a .no-label{padding-right:0}.preview-overlay #preview-console .extra-button-action-bar li.btn-info:hover,.preview-overlay #preview-console .extra-button-action-bar li.btn-info.active{border-color:rgba(255,255,255,0.8)}.preview-overlay #preview-console .extra-button-action-bar.horizontal-action-bar.bottom-action-bar{overflow:visible}.preview-overlay #preview-console .extra-button-action-bar.horizontal-action-bar.bottom-action-bar .action{line-height:1.6}.preview-overlay #preview-console .preview-console-body{display:none}.preview-overlay #preview-console .preview-console-body ul{padding:5px;margin:0;height:300px;overflow:auto;background:#2b2b2b;font-family:Consolas,\\\"Andale Mono WT\\\",\\\"Andale Mono\\\",\\\"Lucida Console\\\",\\\"Lucida Sans Typewriter\\\",\\\"DejaVu Sans Mono\\\",\\\"Bitstream Vera Sans Mono\\\",\\\"Liberation Mono\\\",\\\"Nimbus Mono L\\\",Monaco,\\\"Courier New\\\",Courier,monospace;color:#fff}.preview-overlay #preview-console .preview-console-body ul .log-time{color:#999}.preview-overlay #preview-console .preview-console-body ul .log-type{color:#eee}.preview-overlay #preview-console .preview-console-body ul .log-message{color:#69f}.preview-overlay #preview-console .preview-console-body ul pre{margin:0}.preview-overlay .preview-message-box .feedback-info{margin:10px auto 0px;width:800px}.preview-overlay .preview-message-box a{float:right;padding-right:10px}.preview-overlay .desktop-preview-container{width:1024px;background:#fff url(data:image/gif;base64,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) no-repeat center 150px}.preview-overlay .desktop-preview-frame{position:relative;border:3px #aaa solid;border-radius:5px;background:#5a5a5a;background:linear-gradient(135deg, #5a5a5a 0%, #565656 7%, #444 15%, #141414 30%);box-shadow:5px 5px 10px 0 rgba(0,0,0,0.7)}.preview-overlay .desktop-preview-frame.desktop-preview-landscape{padding:30px 30px}.preview-overlay .desktop-preview-frame.desktop-preview-landscape .desktop-device-toolbar{padding-right:30px}.preview-overlay .desktop-preview-frame.desktop-preview-portrait{padding:30px 30px}.preview-overlay .desktop-preview-frame.desktop-preview-portrait .desktop-device-toolbar{padding-right:30px}.preview-overlay .desktop-preview-item-container{min-height:500px;-webkit-box-shadow:0px 0px 8px #b7b1ac;-moz-box-shadow:0px 0px 8px #b7b1ac;box-shadow:0px 0px 8px #b7b1ac}.preview-overlay .preview-canvas{display:table-cell;text-align:center}.preview-overlay .preview-canvas *{text-align:left}.preview-overlay .preview-outer-frame{position:relative;display:inline-block}.preview-overlay .mobile-preview-container{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;position:relative}.preview-overlay .mobile-preview-item-container{height:100%}.preview-overlay .mobile-preview-frame{position:relative;border:3px #aaa ridge;border-radius:25px;background:#5a5a5a;background:linear-gradient(135deg, #5a5a5a 0%, #565656 7%, #444 15%, #141414 30%);box-shadow:5px 5px 10px 0 rgba(0,0,0,0.7)}.preview-overlay .mobile-preview-frame.mobile-preview-landscape{padding:40px 40px}.preview-overlay .mobile-preview-frame.mobile-preview-landscape .mobile-device-toolbar{padding-right:40px}.preview-overlay .mobile-preview-frame.mobile-preview-portrait{padding:40px 40px}.preview-overlay .mobile-preview-frame.mobile-preview-portrait .mobile-device-toolbar{padding-right:40px}.preview-overlay .mobile-preview-container{background:white;border-radius:3px;border:2px solid;border-color:#444 #999 #999 #444}.preview-overlay .standard-preview-frame{box-shadow:0px 0px 8px rgba(0,0,0,0.7)}\\n/*# sourceMappingURL=preview.css.map */\\n');\n"]}